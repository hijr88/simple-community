<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <title>로그인</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--부트스트랩 설정-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <!-- 아이콘  설정-->
    <script src="https://kit.fontawesome.com/9766199556.js" crossorigin="anonymous"></script>

    <!-- 내가만든 스타일 -->
    <link rel="shortcut icon" th:href="@{/images/favicon.ico}">
    <link rel="icon"          th:href="@{/images/favicon.ico}">
    <link rel="stylesheet"    th:href="@{/css/myStyle.css}">
</head>

<body>
<div class="login">
    <div class="container p-4 bg-white col-md-7" style="border-radius: 1.25rem;">
        <form th:action="@{loginProcess}" method="post" onsubmit="return validateLogin(this);">
            <fieldset>
                <legend class="text-center">Login</legend>
                <div>
                    <input class="form-control my-1" type="text" placeholder="아이디" name="username" autocomplete="off"
                           th:value="${username}"
                           autofocus onkeydown="errTextInit();">
                    <!--minlen4 maxlen12 required-->
                    <span class="error-username small"></span>
                </div>

                <div>
                    <input class="form-control my-1" type="password" placeholder="비밀번호" name="password"
                           autocomplete="off" onkeydown="errTextInit();">
                    <!--minlen4 maxlen20 required-->
                    <span th:text="${errMsg}" class="error-pw small"></span>
                </div>

                <div class="custom-control custom-checkbox ">
                    <input type="checkbox" id="jb-checkbox" name="remember-me" class="custom-control-input">
                    <label class="custom-control-label" for="jb-checkbox">로그인 상태 유지</label>
                </div>

                <div>
                    <button class="form-control bg-purple bg-purple-hover">로그인</button>
                </div>

                <div class=" small mt-2">
                    <div class="float-left action">
                        <span class="text-muted" data-toggle="modal" data-target="#find-username"><i
                                class="fas fa-user-lock pr-1"></i>아이디</span>
                        <span class="text-muted" data-toggle="modal" data-target="#find-member"><i
                                class="fas fa-circle pr-1"></i>비밀번호찾기</span>
                    </div>
                    <div class="float-right">
                        <a class="text-muted" href="register"><i class="fas fa-user-plus pr-1"></i>회원가입</a>
                    </div>
                </div>

            </fieldset>
        </form>
        <a th:href="@{/}" class="btn btn-outline-danger float-right my-2">돌아가기</a>
    </div>
</div>

<div class="modal fade" id="find-username" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">아이디 찾기</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="input-email" class="col-form-label">인증한 이메일을 입력해주세요.</label>
                    <input type="email" class="form-control" id="input-email" placeholder="이메일">
                </div>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
                <button type="button" class="btn btn-primary" onclick="findUsername();">확인</button>
            </div>
            <div class="modal-footer">
                <p id="find-username-result" style="font-weight: 600"></p>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="find-member" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">비밀번호 찾기</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="col-form-label">아이디</label>
                    <input type="text" class="form-control mb-1" placeholder="아이디">
                    <label class="col-form-label">이메일</label>
                    <input type="email" class="form-control" placeholder="이메일">
                </div>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
                <button type="button" class="btn btn-primary" onclick="findMember();">확인</button>
            </div>
            <div class="modal-footer">
                <p id="find-member-result" style="font-weight: 600"></p>
            </div>
        </div>
    </div>
</div>
<script th:src="@{/js/commons.js}"></script>
<script th:src="@{/js/member/login.js}"></script>
</body>
</html>